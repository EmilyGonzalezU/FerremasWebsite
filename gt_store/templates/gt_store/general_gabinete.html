{% extends 'gt_store/base_filtros.html' %}

{% load static %}

{% block breadcrumb %}
    <li class="breadcrumb-item"><a href="{% url 'home' %}">Inicio</a></li>
    <li class="breadcrumb-item"><a href="#">Gabinete</a></li>
{% endblock %}

{% block filtros %}
<div class="container-expand-md border">
    <form method="GET" action="{% url 'filtrar_gabinete' %}" id="filtrosForm">
        <div class="accordion accordion-flush" id="accordionFlushExample">
            <!-- Filtros por Marca -->
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed border" type="button" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                        Marca
                    </button>
                </h2>
                <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="AeroCool" id="marcaAeroCool">
                            <label class="form-check-label" for="marcaAeroCool">AeroCool</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="Antec" id="marcaAntec">
                            <label class="form-check-label" for="marcaAntec">Antec</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="Be Quiet!" id="marcaBeQuiet">
                            <label class="form-check-label" for="marcaBeQuiet">Be Quiet!</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="Corsair" id="marcaCorsair">
                            <label class="form-check-label" for="marcaCorsair">Corsair</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="Cooler Master" id="marcaCoolerMaster">
                            <label class="form-check-label" for="marcaCoolerMaster">Cooler Master</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="Gigabyte" id="marcaGigabyte">
                            <label class="form-check-label" for="marcaGigabyte">Gigabyte</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="Kolink" id="marcaKolink">
                            <label class="form-check-label" for="marcaKolink">Kolink</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="Lian Li" id="marcaLianLi">
                            <label class="form-check-label" for="marcaLianLi">Lian Li</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="MSI" id="marcaMSI">
                            <label class="form-check-label" for="marcaMSI">MSI</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="marca__in" value="Generico" id="marcaGenerico">
                            <label class="form-check-label" for="marcaGenerico">Gen√©rico</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filtros por Formato -->
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed border" type="button" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                        Formato
                    </button>
                </h2>
                <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="gabinete_formato" value="ATX" id="formatoATX">
                            <label class="form-check-label" for="formatoATX">ATX</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="gabinete_formato" value="Micro_ATX" id="formatoMicroATX">
                            <label class="form-check-label" for="formatoMicroATX">Micro ATX</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="gabinete_formato" value="Mini_ATX" id="formatoMiniATX">
                            <label class="form-check-label" for="formatoMiniATX">Mini ATX</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filtros por Precio -->
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                        Precio
                    </button>
                </h2>
                <div id="flush-collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="precio_normal__lte" value="100000" id="rango0Precio">
                            <label class="form-check-label" for="rango0Precio">$0 - $100.000</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="precio_normal__gte" value="100001" id="rango1Precio">
                            <label class="form-check-label" for="rango1Precio">$100.001 - $200.000</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="precio_normal__gte" value="200001" id="rango2Precio">
                            <label class="form-check-label" for="rango2Precio">$200.001 - $300.000</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="precio_normal__gte" value="300001" id="rango3Precio">
                            <label class="form-check-label" for="rango3Precio">$300.001 - $500.000</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="precio_normal__gte" value="500001" id="rango4Precio">
                            <label class="form-check-label" for="rango4Precio">$500.001 - $1.000.000</label>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </form>
</div>
{% endblock %}

{% block card %}
<div class="col-md-12 col-lg-9 col-sm-12 col-xs-12 d-flex flex-wrap">
    {% for p in productos %}
    <div class="position-relative col-lg-3 col-md-4 col-sm-6 mb-4">
        <a href="{% url 'detalle_producto' p.id_producto %}" class="stretched-link text-decoration-none">
            <div class="card border rounded-0">
                {% if p.imagen %}
                    <img src="{{ p.imagen.url }}" class="card-img-top main-image mx-auto d-block" style="height: 200px; width: 200px;">
                {% endif %}
                <div class="card-body" style="height: 295px;">
                    <h6 class="fw-bold">{{ p.marca }}</h6>
                    <div class="position-relative" style="height: 86.1px;">
                        <p class="productDesc">{{ p.descripcion }}</p>
                    </div>
                    {% if p.descuento is not 0 or p.precio_anterior is not 0 %}
                        <div class="priceContainer d-flex position-absolute dsctoTarget">
                            {% if p.descuento is not 0 %}
                                <span class="dscto">{{ p.descuento }} DCTO.</span>
                            {% endif %}
                            {% if p.precio_anterior is not 0 %}
                                <span class="old-price oldPrice">{{ p.precio_anterior }}</span>
                            {% endif %}
                        </div>
                    {% endif %}
                    <div class="position-relative pt-4">
                        <p class="price">{{ p.precio_transferencia }}</p>
                        <p class="metod">Transferencia</p>
                        <p class="price">{{ p.precio_normal }}</p>
                        <p class="metod">Otros medios de pago</p>
                    </div>
                </div>
            </div>
        </a>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/filtro.js' %}"></script>
{% endblock %}
